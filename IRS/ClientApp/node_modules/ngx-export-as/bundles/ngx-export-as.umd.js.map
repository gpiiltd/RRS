{"version":3,"file":"ngx-export-as.umd.js.map","sources":["ng://ngx-export-as/lib/export-as.service.ts","ng://ngx-export-as/lib/export-as.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { ExportAsConfig } from './export-as-config.model';\n\nimport html2canvas from 'html2canvas';\nimport * as XLSX from 'xlsx';\nimport * as htmlDocx from 'html-docx-js/dist/html-docx';\nimport html2pdf from 'html2pdf.js';\n\nwindow['html2canvas'] = html2canvas;\n\n@Injectable()\nexport class ExportAsService {\n\n  constructor() { }\n\n  /**\n   * Main base64 get method, it will return the file as base64 string\n   * @param config your config\n   */\n  get(config: ExportAsConfig): Observable<string | null> {\n    // structure method name dynamically by type\n    const func = 'get' + config.type.toUpperCase();\n    // if type supported execute and return\n    if (this[func]) {\n      return this[func](config);\n    }\n\n    // throw error for unsupported formats\n    return Observable.create((observer) => { observer.error('Export type is not supported.'); });\n  }\n\n  /**\n   * Save exported file in old javascript way\n   * @param config your custom config\n   * @param fileName Name of the file to be saved as\n   */\n  save(config: ExportAsConfig, fileName: string): void {\n    // set download\n    config.download = true;\n    // get file name with type\n    config.fileName = fileName + '.' + config.type;\n    this.get(config).subscribe();\n  }\n\n  /**\n   * Converts content string to blob object\n   * @param content string to be converted\n   */\n  contentToBlob(content: string): Observable<Blob> {\n    return Observable.create((observer) => {\n      // get content string and extract mime type\n      const arr = content.split(','), mime = arr[0].match(/:(.*?);/)[1],\n        bstr = atob(arr[1]);\n      let n = bstr.length;\n      const u8arr = new Uint8Array(n);\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n      }\n      observer.next(new Blob([u8arr], { type: mime }));\n      observer.complete();\n    });\n  }\n\n  /**\n   * Removes base64 file type from a string like \"data:text/csv;base64,\"\n   * @param fileContent the base64 string to remove the type from\n   */\n  removeFileTypeFromBase64(fileContent: string): string {\n    const re = /^data:[^]*;base64,/g;\n    const newContent: string = re[Symbol.replace](fileContent, '');\n    return newContent;\n  }\n\n  /**\n   * Structure the base64 file content with the file type string\n   * @param fileContent file content\n   * @param fileMime file mime type \"text/csv\"\n   */\n  addFileTypeToBase64(fileContent: string, fileMime: string): string {\n    return `data:${fileMime};base64,${fileContent}`;\n  }\n\n  /**\n   * create downloadable file from dataURL\n   * @param fileName downloadable file name\n   * @param dataURL file content as dataURL\n   */\n  downloadFromDataURL(fileName: string, dataURL: string): void {\n    // create blob\n    this.contentToBlob(dataURL).subscribe(blob => {\n      // download the blob\n      this.downloadFromBlob(blob, fileName);\n    });\n  }\n\n  /**\n   * Downloads the blob object as a file\n   * @param blob file object as blob\n   * @param fileName downloadable file name\n   */\n  downloadFromBlob(blob: Blob, fileName: string) {\n    // get object url\n    const url = window.URL.createObjectURL(blob);\n    // check for microsoft internet explorer\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      // use IE download or open if the user using IE\n      window.navigator.msSaveOrOpenBlob(blob, fileName);\n    } else {\n      // if not using IE then create link element\n      const element = document.createElement('a');\n      // set download attr with file name\n      element.setAttribute('download', fileName);\n      // set the element as hidden\n      element.style.display = 'none';\n      // append the body\n      document.body.appendChild(element);\n      // set href attr\n      element.href = url;\n      // click on it to start downloading\n      element.click();\n      // remove the link from the dom\n      document.body.removeChild(element);\n    }\n  }\n\n  private getPDF(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      if (!config.options) {\n        config.options = {};\n      }\n      config.options.filename = config.fileName;\n      const element: HTMLElement = document.getElementById(config.elementId);\n      const pdf = html2pdf().set(config.options).from(element, 'element');\n      if (config.download) {\n        pdf.save();\n        observer.next();\n        observer.complete();\n      } else {\n        pdf.outputPdf('datauristring').then(data => {\n          observer.next(data);\n          observer.complete();\n        });\n      }\n    });\n  }\n\n  private getPNG(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const element: HTMLElement = document.getElementById(config.elementId);\n      html2canvas(element, config.options).then((canvas) => {\n        const imgData = canvas.toDataURL('image/PNG');\n        if (config.type === 'png' && config.download) {\n          this.downloadFromDataURL(config.fileName, imgData);\n          observer.next();\n        } else {\n          observer.next(imgData);\n        }\n        observer.complete();\n      }, err => {\n        observer.error(err);\n      });\n    });\n  }\n\n  private getCSV(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const element: HTMLElement = document.getElementById(config.elementId);\n      const csv = [];\n      const rows: any = element.querySelectorAll('table tr');\n      for (let index = 0; index < rows.length; index++) {\n        const rowElement = rows[index];\n        const row = [];\n        const cols = rowElement.querySelectorAll('td, th');\n        for (let colIndex = 0; colIndex < cols.length; colIndex++) {\n          const col = cols[colIndex];\n          row.push(col.innerText);\n        }\n        csv.push(row.join(','));\n      }\n      const csvContent = 'data:text/csv;base64,' + this.btoa(csv.join('\\n'));\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, csvContent);\n        observer.next();\n      } else {\n        observer.next(csvContent);\n      }\n      observer.complete();\n    });\n  }\n\n  private getTXT(config: ExportAsConfig): Observable<string | null> {\n    const nameFrags = config.fileName.split('.');\n    config.fileName = `${nameFrags[0]}.txt`;\n    return this.getCSV(config);\n  }\n\n  private getXLS(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n\n      const element: HTMLElement = document.getElementById(config.elementId);\n      const ws3 = XLSX.utils.table_to_sheet(element, config.options);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws3, config.fileName);\n      const out = XLSX.write(wb, { type: 'base64' });\n      const xlsContent = 'data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,' + out;\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, xlsContent);\n        observer.next();\n      } else {\n        observer.next(xlsContent);\n      }\n      observer.complete();\n    });\n  }\n\n  private getXLSX(config: ExportAsConfig): Observable<string | null> {\n    return this.getXLS(config);\n  }\n\n  private getDOCX(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      const contentDocument: string = document.getElementById(config.elementId).outerHTML;\n      const content = '<!DOCTYPE html>' + contentDocument;\n      const converted = htmlDocx.asBlob(content, config.options);\n      if (config.download) {\n        this.downloadFromBlob(converted, config.fileName);\n        observer.next();\n        observer.complete();\n      } else {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          const base64data = reader.result;\n          observer.next(base64data);\n          observer.complete();\n        };\n        reader.readAsDataURL(converted);\n      }\n    });\n  }\n\n  private getDOC(config: ExportAsConfig): Observable<string | null> {\n    return this.getDOCX(config);\n  }\n\n  private getJSON(config: ExportAsConfig): Observable<any[] | null> {\n    return Observable.create((observer) => {\n      const data = []; // first row needs to be headers\n      const headers = [];\n      const table = <HTMLTableElement>document.getElementById(config.elementId);\n      for (let index = 0; index < table.rows[0].cells.length; index++) {\n        headers[index] = table.rows[0].cells[index].innerHTML.toLowerCase().replace(/ /gi, '');\n      }\n      // go through cells\n      for (let i = 1; i < table.rows.length; i++) {\n        const tableRow = table.rows[i]; const rowData = {};\n        for (let j = 0; j < tableRow.cells.length; j++) {\n          rowData[headers[j]] = tableRow.cells[j].innerHTML;\n        }\n        data.push(rowData);\n      }\n      const jsonString = JSON.stringify(data);\n      const jsonBase64 = this.btoa(jsonString);\n      const dataStr = 'data:text/json;base64,' + jsonBase64;\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, dataStr);\n        observer.next();\n      } else {\n        observer.next(data);\n      }\n      observer.complete();\n    });\n  }\n\n  private getXML(config: ExportAsConfig): Observable<string | null> {\n    return Observable.create((observer) => {\n      let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><Root><Classes>';\n      const tritem = document.getElementById(config.elementId).getElementsByTagName('tr');\n      for (let i = 0; i < tritem.length; i++) {\n        const celldata = tritem[i];\n        if (celldata.cells.length > 0) {\n          xml += '<Class name=\"' + celldata.cells[0].textContent + '\">\\n';\n          for (let m = 1; m < celldata.cells.length; ++m) {\n            xml += '\\t<data>' + celldata.cells[m].textContent + '</data>\\n';\n          }\n          xml += '</Class>\\n';\n        }\n      }\n      xml += '</Classes></Root>';\n      const base64 = 'data:text/xml;base64,' + this.btoa(xml);\n      if (config.download) {\n        this.downloadFromDataURL(config.fileName, base64);\n        observer.next();\n      } else {\n        observer.next(base64);\n      }\n      observer.complete();\n    });\n  }\n\n  private btoa(content: string) {\n    return btoa(unescape(encodeURIComponent(content)));\n  }\n\n}\n","/**\n * angular imports\n */\nimport { NgModule } from '@angular/core';\n\n/**\n * my imports\n */\nimport { ExportAsService } from './export-as.service';\n\n@NgModule({\n  providers: [ExportAsService],\n})\nexport class ExportAsModule { }\n\n\n"],"names":["Observable","XLSX.utils","XLSX.write","htmlDocx.asBlob","Injectable","NgModule"],"mappings":"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"}
